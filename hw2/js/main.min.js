"use strict";var S=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var e=[],n=!0,a=!1,o=void 0;try{for(var l,u=t[Symbol.iterator]();!(n=(l=u.next()).done)&&(e.push(l.value),!r||e.length!==r);n=!0);}catch(t){a=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return e}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function m(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}var d=["AUD","BGN","BRL","CAD","CHF","CNY","CZK","DKK","EUR","GBP","HKD","HRK","HUF","IDR","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","NZD","PHP","PLN","RON","RUB","SEK","SGD","THB","TRY","USD","ZAR"],p=null,b=null,o=null,f=null,l={month:12,quarter:36,year:120};function s(t){o=t,r(),g()}function u(t){var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=t.toISOString().split("T")[0];if(r)return e;var n=e.split("-");return n[0]+"-"+n[1]}function y(t){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=new Date(t);if("month"===o){var n=e.toLocaleString("default",{month:"short"});return e.getFullYear()+" "+n}if("year"===o||r)return String(e.getFullYear());var a=Math.floor(e.getMonth()/4)+1;return e.getFullYear()+" Q"+a}function i(t,r){t.setDate(t.getDate()+30*r)}function h(){for(var t=new Date,r=new Date("2003-01-01"),e={},n=-Math.floor(l[o]/3);r<t;){i(t,n);var a=new Date(t);e[u(a,!1)]=a}return e}function r(){var r=h(),e=document.querySelector("#start_date"),t=!(e.innerHTML=""),n=!1,a=void 0;try{for(var o,l=Object.entries(r)[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var u=S(o.value,2),i=u[0],c=u[1],v=document.createElement("option");v.value=i,v.textContent=y(c,!0),e.appendChild(v)}}catch(t){n=!0,a=t}finally{try{!t&&l.return&&l.return()}finally{if(n)throw a}}e.onchange=function(){var t=e.value;f=r[t],g()},e.onchange()}function t(){var t=document.querySelector("#currency_select"),r=!0,e=!1,n=void 0;try{for(var a,o=d[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var l=a.value,u=document.createElement("option");u.textContent=l,t.appendChild(u)}}catch(t){e=!0,n=t}finally{try{!r&&o.return&&o.return()}finally{if(e)throw n}}var i=!0,c=!1,v=void 0;try{for(var f,y=function(){var t=f.value;t.onchange=function(){s(t.value)}},h=document.querySelectorAll("[name=precision]")[Symbol.iterator]();!(i=(f=h.next()).done);i=!0)y()}catch(t){c=!0,v=t}finally{try{!i&&h.return&&h.return()}finally{if(c)throw v}}t.onchange=function(){p=t.value,b="EUR"===p?"USD":"EUR",g()},p=t.value,b="EUR"===p?"USD":"EUR",s("year")}function n(t){var r=document.querySelector(".BarChart");r.innerHTML="";var e=t.map(function(t){return t.value}),n=Math.min.apply(Math,m(e)),a=Math.max.apply(Math,m(e));r.style.setProperty("grid-template-columns","repeat("+e.length+", 1fr)");var o=!0,l=!1,u=void 0;try{for(var i,c=t[Symbol.iterator]();!(o=(i=c.next()).done);o=!0){var v=i.value,f=v.label,y=v.value,h=100-100*((y-n)/(a-n)),d="";h<25&&(d="BarChart-bar--small");var s="Cost "+y.toFixed(2)+" "+p+" to buy 1 "+b+" during "+f;r.innerHTML+='\n            <div class="BarChart-bar" style="height: '+h+'%" title="'+s+'">\n                <span class="'+d+'">\n                    '+f+" <br />\n                    "+(1/y).toFixed(2)+" <br />\n                </span>\n            </div>\n        "}}catch(t){l=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(l)throw u}}}function e(t){return Object.entries(t).map(function(t){var r=S(t,2),e=r[0],n=r[1];return{date:e,label:y(e),value:Array.from(Object.values(n))[0]}})}function D(t){var r=t.length;return t.reduce(function(t,r){return t+r},0)/r}function a(t){var r={},e=!0,n=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var u=o.value,i=u.label,c=u.value,v=u.date;i in r||(r[i]={date:v,values:[]}),r[i].values.push(c)}}catch(t){n=!0,a=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw a}}var f=[],y=!0,h=!1,d=void 0;try{for(var s,m=Object.entries(r)[Symbol.iterator]();!(y=(s=m.next()).done);y=!0){var p=S(s.value,2),b=(i=p[0],p[1]),g=b.values;v=b.date;f.push({label:i,date:v,value:D(g)})}}catch(t){h=!0,d=t}finally{try{!y&&m.return&&m.return()}finally{if(h)throw d}}return f}function c(t){return a(e(t.rates))}function g(){var t=new Date(f),r=u(t);i(t,l[o]);var e=u(t);fetch("https://api.ratesapi.io/history?"+("base="+b+"&symbols="+p+"&start_at="+r+"&end_at="+e)).then(function(t){return t.json()}).then(function(t){var r=c(t);r.sort(function(t,r){var e=t.date;return r.date<e?1:-1}),n(r)})}t();
